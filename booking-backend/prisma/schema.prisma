generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "debian-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql" // or "mysql"
  url      = env("DATABASE_URL")
}




model User {
  id        String     @id @default(cuid())
  name      String
  email     String     @unique
  phone     String?    @unique
  password  String?
  googleId  String?
  role      String      @default("user")
  avatar    String?

  business   Business[]   // owner can have multiple businesses
  bookings   Booking[]    // user bookings
}

model Business {
  id          String      @id @default(cuid())
  ownerId     String
  name        String
  description String?
  address     String?
  images      String[]

  owner       User        @relation(fields: [ownerId], references: [id])
  rooms       Room[]
  bookings    Booking[]
 amenities  String[]
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt
}

model Room {
  id          String    @id @default(cuid())
  businessId  String
  title       String
  price       Float
  maxGuests   Int
  beds        Int
  description String?
  images      String[]
    amenities  String[]
  business    Business   @relation(fields: [businessId], references: [id])
  bookings    Booking[]
}

model Booking {
  id          String      @id @default(cuid())
  userId      String
  businessId  String
  roomId      String
  checkIn     DateTime
  checkOut    DateTime
  totalPrice  Float
  status      String      @default("pending") // pending | confirmed | cancelled

  user        User        @relation(fields: [userId], references: [id])
  business    Business    @relation(fields: [businessId], references: [id])
  room        Room        @relation(fields: [roomId], references: [id])
}